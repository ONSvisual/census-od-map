import{b as i}from"../chunks/paths.67f17f95.js";import{c as m,a as u,m as d}from"../chunks/config.8ad79194.js";import{s as f,r as y,u as w,v as $,w as g}from"../chunks/scheduler.e335327d.js";import{S as v,i as b,a as x,t as S}from"../chunks/index.0c5ce9d6.js";const q=!0,C="always";async function P({fetch:o}){const s=d;let n;const e=await(await o(`${i}/data/lad21_metadata.csv`)).text(),t=await(await o(`${i}/data/msoa21_metadata.csv`)).text(),r=[...m(await e,u).map(a=>({...a,type:"lad"})).sort((a,l)=>a.areanm.localeCompare(l.areanm)),...m(await t,u).map(a=>({...a,type:"msoa"})).sort((a,l)=>a.areanm.localeCompare(l.areanm))].map(a=>({...a,x:(a.xmin+a.xmax)/2,y:(a.ymin+a.ymax)/2})),c={};r.forEach(a=>c[a.areacd]=a),n=c;const _=await o(`${i}/data/quads.csv`),p={type:"GeometryCollection",geometries:m(await _.text(),a=>({type:"Point",coordinates:[+a.lng,+a.lat]}))};return{arealist:r.filter(a=>["E","W"].includes(a.areacd[0])),metadata:n,sources:s,quads:p}}const G=Object.freeze(Object.defineProperty({__proto__:null,load:P,prerender:q,trailingSlash:C},Symbol.toStringTag,{value:"Module"}));function h(o){let s;const n=o[1].default,e=y(n,o,o[0],null);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,r){e&&e.m(t,r),s=!0},p(t,[r]){e&&e.p&&(!s||r&1)&&w(e,n,t,t[0],s?g(n,t[0],r,null):$(t[0]),null)},i(t){s||(x(e,t),s=!0)},o(t){S(e,t),s=!1},d(t){e&&e.d(t)}}}function j(o,s,n){let{$$slots:e={},$$scope:t}=s;return o.$$set=r=>{"$$scope"in r&&n(0,t=r.$$scope)},[t,e]}class L extends v{constructor(s){super(),b(this,s,j,h,f,{})}}export{L as component,G as universal};
